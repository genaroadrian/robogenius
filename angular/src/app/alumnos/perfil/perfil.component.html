<app-navbar></app-navbar>   

<div  class="encabezado"></div>

<div class="col-xl-12 col-md-12  imagenandname" >
        <img class="rounded-circle shadow pequeña"  src="https://faros.hsjdbcn.org/sites/default/files/styles/ficha-contenido/public/nino-sonriendo-.jpg?itok=iurfn0Ky"
        data-holder-rendered="true">
        <br>
        <label  class="labeltitulo"> {{datos.nomalu}} {{datos.apealu}} <button mat-icon-button 
            (click)="editAlu(datos.idalu ,datos.nomalu, datos.apealu, datos.fnacalu, datos.sexoalu, datos.domalu, datos.telalu,
        datos.correoalu, datos.medicacion, datos.alergias, datos.perfilalu, datos.cronica, datos.otro, datos.evaluacion,
        datos.usuarioalu, datos.pswalu, datos.nompad, datos.apepad, datos.dompad, datos.telpad, datos.correopad, datos.ocupad,
        datos.nommad, datos.apemad, datos.dommad, datos.telmad, datos.correomad, datos.ocupmad, datos.finscripcion)">
            <mat-icon aria-label="Edit">edit</mat-icon>
        </button></label>
        <br>
        
</div>

<div class="row col-xl-12" >
    <div class="col-xl-4">
        <br>
        <i class="mdi mdi-key-variant"> </i> <label> ID: </label>
        <span> {{datos.idalu}} </span>
        <br>
        <i class="mdi mdi-cake-variant fecha"> </i> <label> Fecha de nacimiento: </label>
        <span> {{datos.fnacalu}} </span>
        <br>
        <i class="mdi mdi-account-multiple sexo"> </i> <label> Sexo: </label>
        <span> {{datos.sexoalu}} </span>
        <br>
        <i class="mdi mdi-city domicilio"> </i> <label> Domicilio: </label>
        <span> {{datos.domalu}} </span>
        <br>
        <i class="mdi mdi-cellphone-iphone telefono"> </i> <label> Teléfono: </label>
        <span> {{datos.telalu}} </span>
        <br>
        <i class="mdi mdi-email correo"> </i> <label> Correo: </label>
        <span> {{datos.correoalu}} </span>
        <br>
        <i class="mdi mdi-calendar-text horario"> </i> <label> Fecha de inscripción: </label>
        <span> {{datos.finscripcion}} </span>
    </div>
        <div class="col-xl-8" style="max-width: none;">
        <!-- ----------------------- Tabs ----------------------- -->
<mat-tab-group >
    <!-- Tab de membresia -->
    <mat-tab style="width: 90%">
      <ng-template mat-tab-label>
        <i class="mdi mdi-account-card-details membresia"></i>
        Membresia
      </ng-template>
      <mat-progress-bar mode='indeterminate' [ngStyle]="{display:barramem}"></mat-progress-bar>
     <div class="container">
          <mat-accordion>
              <h4 style="text-align: center;">Historial de membresias</h4>
              <div >
                  <p class="{{color}}">
                      <mat-icon>{{icono}} </mat-icon> {{status}} 
                  </p>
                  <p class="{{colorpago}}">
                          <mat-icon>{{iconopago}} </mat-icon> {{pagomem}}
                      </p>
      
                  
              </div>
              <!-- <p>Estatus de la membresia: </p> -->
              <mat-expansion-panel *ngFor="let mem of membresia; let i = index">
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                          Membresia {{ mem.nommem}}
                      </mat-panel-title>
                      <mat-panel-description>
                          Membresia numero {{memlenght-i}}
                      </mat-panel-description>
                  </mat-expansion-panel-header>
                  <p><button (click)="editMem(i, mem.nommem, mem.fechainicio, mem.adelanto, mem.restante, mem.total,
                      mem.nombre)" style="padding-left:90%;" mat-icon-button class="text-success">
                          <mat-icon aria-label="Edit">edit</mat-icon>
                      </button></p>
                  <p style="padding-left:5px;">Fecha Inicio: <b>{{mem.fechainicio}}</b></p>
                  <p style="padding-left:5px;">Adelanto: <b>${{mem.adelanto}}.00</b></p>
                  <p style="padding-left:5px;">Restante: <b>${{mem.restante}}.00</b></p>
                  <p style="padding-left:5px;">Total: <b>${{mem.total}}.00</b></p>
                  <p style="padding-left:5px;">Tipo de pago: <b>{{mem.nombre}}</b></p>
              </mat-expansion-panel>
          </mat-accordion>
      </div>
    </mat-tab>
  
    <!-- Tab de Horario -->
    <mat-tab>
      <ng-template mat-tab-label>
        <i class="mdi mdi-calendar-text horario"></i>
        Horario
      </ng-template>
      <div class="container">
        
          <table mat-table [dataSource]="dataSource" style="width:100%">
  
              <!--- Note that these columns can be defined in any order.
                                    The actual rendered columns are set as a property on the row definition" -->
  
              <ng-container matColumnDef="id" >
                  <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display':tableview}" class="horario"> ID </th>
                  <td mat-cell *matCellDef="let element" [ngStyle]="{'display':tableview}" class="horario">
                      {{element.idgalu}} </td>
              </ng-container>
  
              <ng-container matColumnDef="iddia">
                  <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display':tableview}"> Dia </th>
                  <td mat-cell *matCellDef="let element" [ngStyle]="{'display':tableview}">
                      {{element.iddia}} </td>
              </ng-container>
  
              <!-- Position Column -->
              <ng-container matColumnDef="dia">
                  <th mat-header-cell *matHeaderCellDef> Dia </th>
                  <td mat-cell *matCellDef="let element"> {{element.dia}} </td>
              </ng-container>
  
              <!-- Name Column -->
              <ng-container matColumnDef="idh">
                  <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display':tableview}"> Hora </th>
                  <td mat-cell *matCellDef="let element" [ngStyle]="{'display':tableview}">
                      {{element.idh}} </td>
              </ng-container>
  
              <ng-container matColumnDef="hora">
                  <th mat-header-cell *matHeaderCellDef> Hora </th>
                  <td mat-cell *matCellDef="let element"> {{element.hora}} </td>
              </ng-container>
  
              <!-- Weight Column -->
  
              <ng-container matColumnDef="idper">
                  <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display':tableview}"> Instructor
                  </th>
                  <td mat-cell *matCellDef="let element" [ngStyle]="{'display':tableview}">
                      {{element.idper}}
                  </td>
              </ng-container>
  
  
              <ng-container matColumnDef="instructor">
                  <th mat-header-cell *matHeaderCellDef> Instructor </th>
                  <td mat-cell *matCellDef="let element"> {{element.nombre}} {{element.apellidos}}
                  </td>
              </ng-container>
  
              <!-- Symbol Column -->
              <ng-container matColumnDef="actions">
                  <th mat-header-cell *matHeaderCellDef> Acciones </th>
                  <td mat-cell *matCellDef="let element; let i = index">
                      <button mat-icon-button class="text-success"
                          (click)="editHora(i, element.idgalu, element.iddia, element.idh, element.idper)">
                          <mat-icon aria-label="Edit">edit</mat-icon>
                      </button>
  
  
  
                      <!-- En el boton de eliminar se manda llamar a la funcion y se le envia el id -->
                      <button mat-icon-button class="text-danger"
                          (click)="deleteHora(i, element.idgalu)">
                          <mat-icon aria-label="Delete">delete</mat-icon>
                      </button>
                  </td>
              </ng-container>
  
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
  
      </div>
    </mat-tab>
  
    <!-- Tab de Cursos -->
    <mat-tab>
      <ng-template mat-tab-label>
        <i class="mdi mdi-finance cursos"></i>
        Cursos
      </ng-template>
      <div class="container">

      Descripcion de Cursos
      </div>
    </mat-tab>
  
    <!-- Tab de Padres -->
    <mat-tab>
      <ng-template mat-tab-label>
        <i class="mdi mdi-account-multiple padres"></i>
        Padres
      </ng-template>
      <div class="container">
          <div style="float:left; width: 50%;">
              <h2>Datos del padre</h2>
              <p>Nombre: <b>{{datos.nompad}} {{datos.apepad}}</b> </p>
              <p>Domicilio: <b>{{datos.dompad}}</b> </p>
              <p>Telefono: <b>{{datos.telpad}}</b> </p>
              <p>Correo: <b>{{datos.correopad}}</b> </p>
              <p>Ocupación: <b>{{datos.ocupad}}</b> </p>
          </div>
          <div style="float:left; width: 50%;">
              <h2>Datos de la madre</h2>
              <p>Nombre: <b>{{datos.nommad}} {{datos.apemad}}</b> </p>
              <p>Domicilio: <b>{{datos.dommad}}</b></p>
              <p>Telefono: <b>{{datos.telmad}}</b></p>
              <p>Correo: <b>{{datos.correomad}}</b></p>
              <p>Ocupación: <b>{{datos.ocupmad}}</b></p>
          </div>
      </div>
    </mat-tab>
  </mat-tab-group>
            </div>
</div>