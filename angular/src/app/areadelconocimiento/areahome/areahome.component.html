<app-navbar></app-navbar>   
<br> 
<br> 
<br> 
<br> 
<div class="col-xl-12 col-md-12 body">
    <div class="col-xl-12 col-md-12 ">
        <div class="card bg-light mini-stat position-relative">
              <div class="card-body">
                  <mat-progress-bar mode="indeterminate" [ngStyle]="{'display':barra}"></mat-progress-bar>
                 <div class="mini-stat-desc">
                    <div class="col-xl-12 col-md-12">
                       <div class="col-xl-4 col-md-12 ">
                       </div>
                          <div class="col-xl-4 col-md-12">
                             <h1 style="font-size: 30px; text-align: center;">Area del Conocimiento</h1>
                           </div>
                         <div class="col-xl-4 col-md-12 ">
                         </div>
                     </div>
                     
                         <div class="col-xl-12 col-md-12 ">
                          <mat-toolbar style="background: none; color: black;">
                            <span><button mat-icon-button (click)="addNew()" routerLinkActive="router-link-active" >
                                <mat-icon aria-label="Nuevo Registro" >add_circle_outline</mat-icon><span > Nuevo</span>
                              </button></span>
                            <span class="spacer"></span>
                            Recargar datos:
                            <button mat-icon-button (click)="refresh()">
                              <mat-icon>refresh</mat-icon>
                            </button>
                          </mat-toolbar>
                          </div>
                          <div class="col-xl-12 col-md-12 ">
                              <mat-form-field floatPlaceholder="never"  style="width:100%; text-align: center;">
                                  <input matInput #filter placeholder="Buscar...">
                                </mat-form-field>
                          </div>
                          <div class="col-xl-12 col-md-12 "> 

                              <mat-table #table [dataSource]="dataSource" matSort class="mat-cell">
                                                      
                                  <ng-container matColumnDef="idac">
                                    <mat-header-cell *matHeaderCellDef mat-sort-header [ngStyle]="{display:tableview}">Id</mat-header-cell>
                                    <mat-cell *matCellDef="let row" [ngStyle]="{display:tableview}">{{row.idac}}</mat-cell>
                                  </ng-container>
                                  <ng-container matColumnDef="nombre">
                                      <mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</mat-header-cell>
                                      <mat-cell *matCellDef="let row" >{{row.nombre}}</mat-cell>
                                    </ng-container>

                                    <ng-container matColumnDef="icons">
                                        <mat-header-cell *matHeaderCellDef mat-sort-header>Acciones</mat-header-cell>
                                        <mat-cell *matCellDef="let row; let i=index;">

                                          <button mat-icon-button class="text-success" (click)="onUpdate(i, row.idac, row.nombre )">
                                            <mat-icon aria-label="Edit">edit</mat-icon>
                                          </button>
                                          <!-- En el boton de eliminar se manda llamar a la funcion y se le envia el id -->
                                          <button mat-icon-button class="text-danger" (click)="delete(i,row.idac, row.nombre)">
                                            <mat-icon aria-label="Delete">delete</mat-icon>
                                          </button>
                                        </mat-cell>
                                      </ng-container>
                              
                                  
                                      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                                      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

                              </mat-table>
                              <div class="no-results" [style.display]="dataSource.renderedData.length == 0 ? '' : 'none'">
                                  <!-- Spinner de carga -->
                                    <!-- <div class="loading">
                                      <span>Cargando...</span>
                                    </div> -->
                                    <img src="https://loading.io/spinners/eclipse/lg.ring-loading-gif.gif"  style="width: 20%; margin-left: 4%;">
                                    
                                </div>
                            
                              <!-- Seccion de la paginacion -->
                              <mat-paginator #paginator 
                                [length]="dataSource.filteredData.length" 
                                [pageIndex]="0" 
                                [pageSize]="5"
                                [pageSizeOptions]="[5, 10, 25, 100]">
                              </mat-paginator>                <!-- Barra de busqueda -->
                            
                              
                        </div>

                      </div>
                    </div>
                    </div>
                    </div>
                    </div>
<app-fotter></app-fotter>
